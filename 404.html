<html>

<head>
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,500,900" rel="stylesheet">

  <style>
    body,
    h1,
    h2,
    p,
    button,
    a {
      font-family: 'Roboto', sans-serif;
      font-weight: 500;
    }

    body {
      margin: 0;
      overflow: hidden;
      min-width: 1500px;
      background-color: #2E3234;
    }

    h1 {
      font-size: 66px;
      font-weight: 900;
      margin: 0;
    }

    .content {
      position: relative;
      min-width: 1000px;
      width: 100%;
    }

    .site-logo {
      position: absolute;
      top: 40px;
      left: 40px;
      width: 240px;
    }

    .cover {
      height: 100%;
      display: flex;
      background-color: #2E3234;
      background-image: url('img/round.svg');
      background-repeat: no-repeat;
      background-size: 1400px;
    }

    .page {
      display: none;
    }
    
    .column {
      width: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .error {
      padding: 40px;
      max-width: 500px;
    }

    .error p {
      font-size: 20px;
    }

    .error a {
      display: inline-block;
      font-size: 16px;
      text-decoration: none;
      padding: 12px 18px;
      color: white;
      background-color: #C9232C;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .text-red {
      color: #C9232C;
    }

    .monsters {
      text-align: center;
    }

    .monsters a {
      display: inline-block;
      font-size: 20px;
      text-decoration: none;
      padding: 12px 18px;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    
    .story-line {
      display: none;
      position: relative;
      height: 100%;
      padding: 40px, 40px;
    }

    .side-nav {
      position: relative;
      display: flex;
      width: 60px;
      height: 70%;
      max-height: 750px;
      flex-direction: column;
      justify-content: space-around;
      border-right: solid 1px dimgray;
      margin: 60px 10px;
      list-style: none;
      z-index: 10;
    }

    .side-nav-item {
      position: relative;
      top: -5px;
      color: #fff;
      font-size: 16px;
      cursor: pointer;
      font-weight: 300;
      font-size: 14px;
      color: dimgray;
    }

    .side-nav-item::after {
      content: "";
      position: absolute;
      background-color: dimgray;
      border-radius: 8px;
      width: 5px;
      height: 5px;
      right: -3px;
      top: 5px
    }

    .side-nav-item.active {
      color: white;
      transition: color .4s ease-in-out;
    }
    
    .side-nav-item.active::after {
      background-color: #FF4A4A;
      transition: color .4s ease-in-out;
    }
    
    .story-content {
      position: absolute;
      color: white;
      top: 20px;
      left: 140px;
      width: 300px;
      display: none;
    }
    
    .story-content .title {  
      margin: 15px 0;
      font-weight: 900;
    }
    
    .story-content .description {
      margin: 15px 0;
      font-weight: 400;
    }
    
    .story-content .cost {
      color: #FF4A4A;
      margin: 15px 0;
    }
    
    .page.active, 
    .story-content.active,
    .story-line.active {
      display: block;
    }

    .blink {
      animation: blink normal 2s infinite ease-in-out;
    }
    
    @keyframes blink {
        0% {
            opacity:1;
        }
        50% {
            opacity:0;
        }
        100% {
            opacity:1;
        }
    }

  </style>
</head>

<body>
  <div class="content">
    <div class="story-line">
      <ul class="side-nav">
        <li class="side-nav-item active">1968</li>
        <li class="side-nav-item">1968</li>
        <li class="side-nav-item">1968</li>
        <li class="side-nav-item">1968</li>
        <li class="side-nav-item">1968</li>
        <li class="side-nav-item">1968</li>
      </ul>
      <div class="story-content active">
        <h1 class="title">Lorem ipsum dolor latus1</h1>
        <p class="cost">Cost - 1.200.000$</p>
        <p class="description">
          Adolescebat autem obstinatum propositum erga haec et similia multa scrutanda, stimulos admovente regina, quae abrupte mariti fortunas trudebat in exitium praeceps, cum eum potius lenitate feminea ad
        </p>
      </div>
      <div class="story-content">
        <h1 class="title">Lorem ipsum dolor latus2</h1>
        <p class="cost">Cost - 2.200.000$</p>
        <p class="description">
          Adolescebat autem obstinatum propositum erga haec et similia multa scrutanda, stimulos admovente regina, quae abrupte mariti fortunas trudebat in exitium praeceps, cum eum potius lenitate feminea ad
        </p>
      </div>
      <div class="story-content">
        <h1 class="title">Lorem ipsum dolor latus3</h1>
        <p class="cost">Cost - 3.200.000$</p>
        <p class="description">
          Adolescebat autem obstinatum propositum erga haec et similia multa scrutanda, stimulos admovente regina, quae abrupte mariti fortunas trudebat in exitium praeceps, cum eum potius lenitate feminea ad Adolescebat autem obstinatum propositum erga haec et similia multa scrutanda, stimulos admovente regina, quae abrupte marit
      </div>
      <div class="story-content">
        <h1 class="title">Lorem ipsum dolor latus4</h1>
        <p class="cost">Cost - 4.200.000$</p>
        <p class="description">
          Adolescebat autem obstinatum propositum erga haec et similia multa scrutanda, stimulos admovente regina, quae abrupte mar
        </p>
      </div>
      <div class="story-content">
        <h1 class="title">Lorem ipsum dolor latus5</h1>
        <p class="cost">Cost - 5.200.000$</p>
        <p class="description">
          Adolescebat autem obstinatum propositum erga haec et similia multa scrutanda, stimulos admovente regina, quae abrupte mari
        </p>
      </div>
    </div>
    
    <div class="page active">
      <img class="site-logo" src="img/logo.svg" />
      <div class="cover">
        <div class="column">
          <div class="error">
            <h2>
              <span class="text-red">404 </span>Page not found
            </h2>
            <h1>Bug's Dynasty took the full control...</h1>
            <p>This page has been eaten by the family.... We can't seem to find the page you're looking for.</p>
            <a href="https://www.sonarsource.com">Go back home</a>
          </div>
        </div>
        <div class="column">
          <div class="monsters">
            <img width="500px" src="img/monsters.svg" />
		  <br/><br/>
		  <a href="#">... or scroll to discover the dynasty</a>
		  <br/>
		  <img width="25px" src="img/arrow-down.svg" class="blink" />
          </div>
        </div>
      </div>
    </div>
    
    <div class="page">
      
    </div>  
  </div>
  
  <script>
    (function() {
      const storyLineItem = document.getElementsByClassName('story-line')[0];
      const pageItems = document.getElementsByClassName('page');
      const navItems = document.getElementsByClassName('side-nav-item');
      const storyContentItems = document.getElementsByClassName('story-content');
      let currentPage = 0;

      bindNavItems();
      bindScroll();

      function changePage(newPage) {
        if (newPage !== currentPage) {
          console.log(storyLineItem);
          if (newPage > 0) {
            storyLineItem.classList.add('active');
          } else {
            storyLineItem.classList.remove('active');
          }
          
          if (pageItems[currentPage]) {
            pageItems[currentPage].classList.remove('active');
          }
          
          if (pageItems[newPage]) {
            pageItems[newPage].classList.add('active');
          }
          
          if (navItems[currentPage - 1]) {
            navItems[currentPage - 1].classList.remove('active');
          }
          if (navItems[newPage - 1]) {
            navItems[newPage - 1].classList.add('active');
          }
          if (storyContentItems[currentPage - 1]) {
            storyContentItems[currentPage - 1].classList.remove('active');
          }
          if (storyContentItems[newPage - 1]) {
            storyContentItems[newPage - 1].classList.add('active');
          }
          
          currentPage = newPage;
        }
      }

      function nextPage() {
        if (currentPage < 6) {
          changePage(currentPage + 1);
        }
      }

      function previousPage() {
        if (currentPage > 0) {
          changePage(currentPage - 1);
        }
      }

      function bindNavItems() {
        for(let i = 0; i < navItems.length; i++) {
          (function(idx) {
            navItems[idx].addEventListener('click', function() {
              changePage(idx + 1)
            });
          })(i);
        }
      }

      function bindScroll() {
        window.addEventListener('mousewheel', function(event) {
          if (event.deltaY > 0) {
            nextPage();
          } else if (event.deltaY < 0) {
            previousPage();
          }
        });
      }  
    })();
  </script>
</body>

</html>
